(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{4725:function(e,t,a){Promise.resolve().then(a.bind(a,6981))},6981:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return k}});var s=a(7437),r=a(2265),n=a(1538),i=a(2218),o=a(7700);let l=(0,i.j)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-white transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-slate-950 focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 dark:ring-offset-slate-950 dark:focus-visible:ring-slate-300",{variants:{variant:{default:"bg-slate-900 text-slate-50 hover:bg-slate-900/90 dark:bg-slate-50 dark:text-slate-900 dark:hover:bg-slate-50/90",destructive:"bg-red-500 text-slate-50 hover:bg-red-500/90 dark:bg-red-900 dark:text-slate-50 dark:hover:bg-red-900/90",outline:"border border-slate-200 bg-white hover:bg-slate-100 hover:text-slate-900 dark:border-slate-800 dark:bg-slate-950 dark:hover:bg-slate-800 dark:hover:text-slate-50",secondary:"bg-slate-100 text-slate-900 hover:bg-slate-100/80 dark:bg-slate-800 dark:text-slate-50 dark:hover:bg-slate-800/80",ghost:"hover:bg-slate-100 hover:text-slate-900 dark:hover:bg-slate-800 dark:hover:text-slate-50",link:"text-slate-900 underline-offset-4 hover:underline dark:text-slate-50",white:"text-black bg-white dark:text-white dark:bg-black dark:hover:bg-black/90 hover:bg-white/90"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),c=r.forwardRef((e,t)=>{let{className:a,variant:r,size:i,asChild:c=!1,...d}=e,u=c?n.g7:"button";return(0,s.jsx)(u,{className:(0,o.cn)(l({variant:r,size:i,className:a})),ref:t,...d})});c.displayName="Button";var d=a(9115),u=()=>{let[e,t]=(0,r.useState)(!1),[a,s]=(0,r.useState)(!1),[n,i]=(0,r.useState)(!1);return{isPrivateLoading:e,isPrivateSuccess:a,isPrivateError:n,Privateget:async e=>{t(!0),s(!1),i(!1);try{let t=await d.Z.get("".concat("https://invespy-backends.vercel.app/api/users","/").concat(e,"/"),{withCredentials:!0});return s(!0),t}catch(e){throw i(!0),e}finally{t(!1)}},Privatepost:async(e,a)=>{t(!0),s(!1),i(!1);try{let t=await d.Z.post("".concat("https://invespy-backends.vercel.app/api/users","/").concat(e),a);return s(!0),t.data}catch(e){throw i(!0),e}finally{t(!1)}}}},h=a(6776),f=a(424),p=a(5526),x=a(6648),g=a(7138),m=a(6463),v=a(9343),b=a(1444),w=a(5481),y=a(4867);function k(){let[e,t]=(0,r.useState)(""),[a,n]=(0,r.useState)(""),[i,o]=(0,r.useState)(null),{register:l,handleSubmit:d,formState:{errors:k}}=(0,v.cI)(),[S,T]=(0,r.useState)(!1),j=(0,b.I0)(),{isPublicLoading:N,isPublicSuccess:P,isPublicError:E,Publicpost:I,Publicget:D}=(0,h.Z)(),{isPrivateLoading:F,isPrivateSuccess:_,isPrivateError:A,Priavtepost:C,Privateget:O}=u(),{data:Z,loading:M,error:B}=(0,b.v9)(e=>e.user),{push:R}=(0,m.useRouter)(),{toast:q}=(0,w.pm)(),L=async e=>{try{let t=await I("auth",e);console.log("Login successful!",t.data.user),200===t.status&&((0,p.TH)(t.data.accessToken),(0,p.nT)(t.data.refreshToken),j((0,f.rQ)()),R("/dashboard"))}catch(e){console.error("Login failed:",e.response.data.message),q({title:"Uh oh! Something went wrong.",description:e.response.data.message})}};return((0,r.useEffect)(()=>{Z&&R("/dashboard")},[Z]),M)?(0,s.jsx)("div",{children:"Loading..."}):B?(0,s.jsxs)("div",{children:["Error: ",B]}):!Z&&(0,s.jsx)("main",{className:"bg-invespyPrimary h-screen flex justify-center items-center",children:(0,s.jsxs)("div",{className:"relative grid grid-cols-2 w-[1240px] h-[500px]",children:[(0,s.jsx)("div",{className:"absolute  top-0 left-[50%] -translate-x-[50%]  w-[2px] h-full bg-gradient-to-b from-white/10 via-white to-white"}),(0,s.jsxs)("div",{className:"flex flex-col justify-center",children:[(0,s.jsx)(x.default,{width:200,src:"/login/invespy.svg",height:48,alt:"Picture of logo",priority:!0,style:{objectFit:"contain"}}),(0,s.jsx)("p",{className:"font-normal text-xs text-white w-[519px] py-6",children:"INVESPY was born out of PIXL's extensive experience in the Dubai real estate market, having worked with some of the largest developers and brokerages globally."}),(0,s.jsxs)("div",{className:"font-normal text-xs text-white flex gap-6",children:[(0,s.jsx)(g.default,{href:"/Terms & Conditions",children:"Terms & Conditions"}),(0,s.jsx)(g.default,{href:"/Privacy Policy",children:"Privacy Policy"})]})]}),(0,s.jsxs)("div",{className:"flex flex-col justify-center items-end",children:[(0,s.jsx)("div",{className:"w-[519px] pb-5",children:(0,s.jsx)(x.default,{width:208,src:"/login/Welcome Back!.svg",height:22,alt:"Picture of Welcome Back",priority:!0,style:{objectFit:"contain"}})}),(0,s.jsxs)("form",{onSubmit:d(L),children:[(0,s.jsxs)("div",{className:"w-[519px] h-[67px] flex items-center flex-col my-3 bg-[#FFFFFF14]  rounded-[8px] border border-[#1D1C1D]/10",children:[(0,s.jsx)("div",{className:"w-[490px] text-xs font-normal pt-2 pb-2 text-[#656464]",children:"Email address"}),(0,s.jsx)("div",{className:"w-[490px]",children:(0,s.jsx)("input",{className:"w-full h-full bg-transparent outline-none text-base font-medium text-white border-none",type:"email",...l("email",{required:"Email is required"})})})]}),(0,s.jsxs)("div",{className:"w-[519px] flex items-center flex-col h-[67px] my-3 bg-[#FFFFFF14] rounded-[8px] border border-[#1D1C1D]/10",children:[(0,s.jsx)("div",{className:"w-[490px] text-xs font-normal pt-2 pb-2 text-[#656464]",children:"Password"}),(0,s.jsxs)("div",{className:"w-[490px] relative",children:[(0,s.jsx)("div",{className:"pb-5 absolute top-2 right-0",onClick:()=>T(!S),children:(0,s.jsx)(x.default,{width:14,src:"/login/eyes.svg",height:9,alt:"Picture of eye",priority:!0,style:{objectFit:"contain"}})}),(0,s.jsx)("input",{className:"w-full h-full bg-transparent outline-none text-base font-medium text-white border-none",type:S?"text":"password",...l("password",{required:"Password is required"})})]})]}),(0,s.jsx)(c,{type:"submit",variant:"white",className:"w-[519px] mt-10",children:N?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(y.WID,{className:"mr-2 -mt-1 h-4 w-4 animate-spin"})," Please wait "]}):"Login"})]})]})]})})}},5481:function(e,t,a){"use strict";a.d(t,{pm:function(){return h}});var s=a(2265);let r=0,n=new Map,i=e=>{if(n.has(e))return;let t=setTimeout(()=>{n.delete(e),d({type:"REMOVE_TOAST",toastId:e})},1e6);n.set(e,t)},o=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===t.toast.id?{...e,...t.toast}:e)};case"DISMISS_TOAST":{let{toastId:a}=t;return a?i(a):e.toasts.forEach(e=>{i(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===a||void 0===a?{...e,open:!1}:e)}}case"REMOVE_TOAST":if(void 0===t.toastId)return{...e,toasts:[]};return{...e,toasts:e.toasts.filter(e=>e.id!==t.toastId)}}},l=[],c={toasts:[]};function d(e){c=o(c,e),l.forEach(e=>{e(c)})}function u(e){let{...t}=e,a=(r=(r+1)%Number.MAX_SAFE_INTEGER).toString(),s=()=>d({type:"DISMISS_TOAST",toastId:a});return d({type:"ADD_TOAST",toast:{...t,id:a,open:!0,onOpenChange:e=>{e||s()}}}),{id:a,dismiss:s,update:e=>d({type:"UPDATE_TOAST",toast:{...e,id:a}})}}function h(){let[e,t]=s.useState(c);return s.useEffect(()=>(l.push(t),()=>{let e=l.indexOf(t);e>-1&&l.splice(e,1)}),[e]),{...e,toast:u,dismiss:e=>d({type:"DISMISS_TOAST",toastId:e})}}},6776:function(e,t,a){"use strict";var s=a(2126),r=a(2265);s.Z.defaults.withCredentials=!0,t.Z=()=>{let[e,t]=(0,r.useState)(!1),[a,n]=(0,r.useState)(!1),[i,o]=(0,r.useState)(!1);return{isPublicLoading:e,isPublicSuccess:a,isPublicError:i,Publicget:async e=>{t(!0),n(!1),o(!1);try{let t=await s.Z.get("".concat("https://invespy-backends.vercel.app/api/users","/").concat(e,"/"),{withCredentials:!0});return n(!0),t}catch(e){throw o(!0),e}finally{t(!1)}},Publicpost:async(e,a)=>{t(!0),n(!1),o(!1);try{let t=await s.Z.post("".concat("https://invespy-backends.vercel.app/api/users","/").concat(e),a);return n(!0),t}catch(e){throw o(!0),e}finally{t(!1)}}}}},424:function(e,t,a){"use strict";a.d(t,{kS:function(){return o},rQ:function(){return n}});var s=a(9753),r=a(9115);let n=(0,s.hg)("profile/fetchData",async(e,t)=>{let{rejectWithValue:a}=t;try{return(await r.Z.get("".concat("https://invespy-backends.vercel.app/api/users","/profile"),{withCredentials:!0})).data.data}catch(e){console.log(e)}}),i=(0,s.oM)({name:"users",initialState:{data:null,loading:!1,error:null},reducers:{logout:e=>{e.data=null,e.loading=!1,e.error=null}},extraReducers:e=>{e.addCase(n.pending,(e,t)=>{e.loading=!0,e.error=null}),e.addCase(n.fulfilled,(e,t)=>{e.loading=!1,e.data=t.payload?t.payload:null}),e.addCase(n.rejected,(e,t)=>{e.loading=!1,e.error=t.payload})}}),{logout:o}=i.actions;t.ZP=i.reducer},7700:function(e,t,a){"use strict";a.d(t,{cn:function(){return n}});var s=a(4839),r=a(6164);function n(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return(0,r.m6)((0,s.W)(t))}},9115:function(e,t,a){"use strict";var s=a(2126),r=a(9714),n=a(5526);let i=s.Z.create(),o=async()=>{try{let e=(0,n.XS)(),t=await s.Z.post("".concat("https://invespy-backends.vercel.app/api/users","/refreshToken"),{refreshToken:e},{withCredentials:!0});return(0,n.TH)(t.data.accessToken),(0,n.nT)(t.data.refreshToken),null==t?void 0:t.data}catch(e){console.log(e)}};i.interceptors.request.use(async e=>{let t=new Date,a=(0,n.Bx)(),s=(0,r.o)(a);if((null==s?void 0:s.exp)*1e3<t.getTime()){let t=await o();e.headers.authorization="Bearer ".concat(null==t?void 0:t.accessToken)}return e},e=>Promise.reject(e)),i.interceptors.response.use(e=>e,e=>Promise.reject(e)),t.Z=i},5526:function(e,t,a){"use strict";function s(){return localStorage.getItem("accessToken")}function r(){return localStorage.getItem("refreshToken")}function n(e){localStorage.setItem("accessToken",e)}function i(e){localStorage.setItem("refreshToken",e)}a.d(t,{Bx:function(){return s},TH:function(){return n},XS:function(){return r},nT:function(){return i}})}},function(e){e.O(0,[310,967,1,173,974,654,971,23,744],function(){return e(e.s=4725)}),_N_E=e.O()}]);